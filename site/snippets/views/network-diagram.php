<!-- 

NETWORK DIAGRAM INTERACTION

On hover
- Update image src
- Update text content
- Change node colour
- Scale node up

Autoplay
- Choose random node every 3 seconds
- Same interaction as hover.

-->

<div class="grid grid-cols-2 p-5 items-center justify-items-center">
  <div class="network-diagram">
    <div class="network-node" style="left: 16.6016px; top: 168.827px;"></div>
    <div class="network-node" style="left: 42.6738px; top: 166.85px;"></div>
    <div class="network-node" style="left: 92.7949px; top: 185.955px;"></div>
    <div class="network-node" style="left: 236.797px; top: 162.133px;"></div>
    <div class="network-node" style="left: 293.564px; top: 169.211px;"></div>
    <div class="network-node" style="left: 286.678px; top: 148.595px;"></div>
    <div class="network-node" style="left: 286.678px; top: 123.012px;"></div>
    <div class="network-node" style="left: 296.355px; top: 99.5078px;"></div>
    <div class="network-node" style="left: 294.512px; top: 82.4561px;"></div>
    <div class="network-node" style="left: 291.525px; top: 54.7083px;"></div>
    <div class="network-node" style="left: 290.955px; top: 35.7148px;"></div>
    <div class="network-node" style="left: 318.686px; top: 28.2073px;"></div>
    <div class="network-node" style="left: 345.656px; top: 42.7373px;"></div>
    <div class="network-node" style="left: 354.678px; top: 67.7148px;"></div>
    <div class="network-node" style="left: 338.021px; top: 90.8667px;"></div>
    <div class="network-node" style="left: 320.477px; top: 111.534px;"></div>
    <div class="network-node" style="left: 344.908px; top: 120.747px;"></div>
    <div class="network-node" style="left: 365.275px; top: 141.129px;"></div>
    <div class="network-node" style="left: 380.439px; top: 161.579px;"></div>
    <div class="network-node" style="left: 389.406px; top: 185.174px;"></div>
    <div class="network-node" style="left: 425.346px; top: 132.011px;"></div>
    <div class="network-node" style="left: 430.914px; top: 104.308px;"></div>
    <div class="network-node" style="left: 423.104px; top: 82.1948px;"></div>
    <div class="network-node" style="left: 420.475px; top: 63.3279px;"></div>
    <div class="network-node" style="left: 423.131px; top: 35.0039px;"></div>
    <div class="network-node" style="left: 445.178px; top: 19.0039px;"></div>
    <div class="network-node" style="left: 468.215px; top: 36.168px;"></div>
    <div class="network-node" style="left: 473.684px; top: 59.4583px;"></div>
    <div class="network-node" style="left: 480.113px; top: 86.0901px;"></div>
    <div class="network-node" style="left: 480.109px; top: 110.433px;"></div>
    <div class="network-node" style="left: 483.688px; top: 134.312px;"></div>
    <div class="network-node" style="left: 500.84px; top: 157.073px;"></div>
    <div class="network-node" style="left: 522.111px; top: 146.493px;"></div>
    <div class="network-node" style="left: 526.145px; top: 122.496px;"></div>
    <div class="network-node" style="left: 538.104px; top: 95.1108px;"></div>
    <div class="network-node" style="left: 533.586px; top: 70.2888px;"></div>
    <div class="network-node" style="left: 541.854px; top: 42.9102px;"></div>
    <div class="network-node" style="left: 531.4px; top: 16.6724px;"></div>
    <div class="network-node" style="left: 218.393px; top: 180.536px;"></div>
    <div class="network-node" style="left: 190.855px; top: 188.606px;"></div>
    <div class="network-node" style="left: 169.621px; top: 176.739px;"></div>
    <div class="network-node" style="left: 151.074px; top: 152.883px;"></div>
    <div class="network-node" style="left: 137.945px; top: 130.309px;"></div>
    <div class="network-node" style="left: 130.219px; top: 107.812px;"></div>
    <div class="network-node" style="left: 140.801px; top: 79.8171px;"></div>
    <div class="network-node" style="left: 154.633px; top: 62.7871px;"></div>
    <div class="network-node" style="left: 179.418px; top: 56.094px;"></div>
    <div class="network-node" style="left: 209px; top: 56.7336px;"></div>
    <div class="network-node" style="left: 232.746px; top: 71.0452px;"></div>
    <div class="network-node" style="left: 71.4922px; top: 174.167px;"></div>
    <div class="network-node" style="left: 64.6406px; top: 153.535px;"></div>
    <div class="network-node" style="left: 64.6406px; top: 127.992px;"></div>
    <div class="network-node" style="left: 74.2793px; top: 104.434px;"></div>
    <div class="network-node" style="left: 72.4531px; top: 87.4968px;"></div>
    <div class="network-node" style="left: 69.4746px; top: 59.6743px;"></div>
    <div class="network-node" style="left: 50.5098px; top: 47.4685px;"></div>
    <div class="network-node" style="left: 22.0273px; top: 39.7217px;"></div>
    <div class="network-node" style="left: 78.3145px; top: 36.4351px;"></div>
    <div class="network-node" style="left: 97.4727px; top: 33.5552px;"></div>
    <!-- <div class="network-rect" style="left: 336.176px; top: 107.295px; width: 7.57422px; height: 8.38257px;"></div> -->
  </div>
  <div>
    <img class="aspect-4/3 object-cover" id="image" src="/assets/icrn-mic.jpg" />
    <p id="text">-</p>
  </div>
</div>

<style>
  .network-diagram {
    position: relative;
    width: 558px;
    height: 205px;
    background: transparent;
  }

  .network-node {
    position: absolute;
    width: 32px;
    height: 32px;
    background-color: #A2FF00;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    /* transition: all 0.3s ease; */
    cursor: pointer;
  }

  .network-node:hover {
    background-color: #F8661B;
    z-index: 100;
    transform: translate(-50%, -50%);
    animation: pulse 0.5s infinite alternate;
  }

  .network-rect {
    position: absolute;
    background-color: #A2FF00;
    transform: translate(-50%, -50%);
    transition: all 0.5s ease;
    cursor: pointer;
  }

  @keyframes pulse {
    from {
      transform: translate(-50%, -50%) scale(0.9);
    }

    to {
      transform: translate(-50%, -50%) scale(1.1);
    }
  }
</style>


<script>
  document.addEventListener('DOMContentLoaded', () => {

    const colours = ['#01B4FF', '#F8661B', '#C52734', '#00A2FF', '#A2FF00'];

    const stations = <?= $stations ?>;

    function getRandomStation() {
      const randomIndex = Math.floor(Math.random() * stations.length);
      return stations[randomIndex];
    }

    const image = document.getElementById('image');
    const text = document.getElementById('text');
    document.querySelectorAll('.network-node').forEach(node => {
      node.addEventListener('mouseover', () => {
        const station = getRandomStation();
        image.src = station.image;
        text.innerHTML = station.title;
      });

      node.addEventListener('mouseout', () => {
        image.src = '/assets/icrn-mic.jpg';
        text.innerHTML = "-"
        // Reset styles or perform any action on mouse out
      });
    });
  });
</script>